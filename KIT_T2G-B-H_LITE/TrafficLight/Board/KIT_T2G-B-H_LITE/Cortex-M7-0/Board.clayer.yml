layer:
  type: Board
  description: KIT_T2G-B-H_LITE board setup (CM7-0)
  for-board: Infineon::KIT_T2G-B-H_LITE

  device: :Cortex-M7-0

  generators:
    options:
      - generator: InfineonDeviceConfigurator
        path: ../Device_Configurator
        name: Board

  packs:
    - pack: Infineon::T2G-B-H_DFP@^1.2.0
    - pack: Infineon::KIT_T2G-B-H_LITE_BSP@^1.1.0
    - pack: ARM::CMSIS@^6.2.0
    - pack: ARM::CMSIS-Compiler@^2.1.0

  components:
    - component: Infineon::Device:Startup
    - component: Infineon::Device:Peripheral Driver Library:PDL
    - component: Infineon::Board Support&KIT_T2G-B-H_LITE:Board Setup
    - component: Infineon::Device Configurator:Device Configurator

    - component: CMSIS:CORE

    - component: CMSIS-Compiler:CORE
    - component: CMSIS-Compiler:STDERR:Custom
    - component: CMSIS-Compiler:STDOUT:Custom
    - component: CMSIS-Compiler:STDIN:Custom

    - component: CMSIS Driver:Ethernet MAC:Custom
    - component: CMSIS Driver:Ethernet PHY:Custom

    - component: CMSIS Driver:VIO:Custom

  groups:
    - group: Board
      files:
        - file: main.c
        - file: ../retarget_stdio.c
        - file: ../PHY_DP83825I.c
        - file: ../EMAC_T2G.c
        - file: ../vio_KIT_T2G-B-H_LITE.c
    - group: Board Traffic Light
      files:
        - file: TrafficLight/io_defs.h
        - file: TrafficLight/hw_watchdog.c
        - file: TrafficLight/svc_user.c
        - file: TrafficLight/zones.c

  add-path:
    - ./
    - ../
    - ../Device_Configurator/GeneratedSource
    - ./TrafficLight

  define:
    - CORE_NAME_CM7_0
    - CY_DISABLE_XMC7000_DATA_CACHE
    - CMSIS_NVIC_VIRTUAL

  linker:
    - script:  TrafficLight/ac6_linker_script.sct.src
      regions: TrafficLight/mem_layout.h
      for-compiler: AC6
